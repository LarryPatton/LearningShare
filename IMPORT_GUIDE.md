# 📝 文章导入工具使用指南

## 🎯 功能概述

`import_article.py` 是一个带图形界面（GUI）的Python脚本，可以将你准备好的文章资料一键导入到博客网站的正确目录中。

### ✅ 主要功能

1. **文件夹选择**：选择包含文章资料的源文件夹
2. **分类管理**：从10个主分类中选择
3. **子分类支持**：可选添加二级分类（如 frontend、design-patterns）
4. **自动识别资源**：自动检测封面图、视频、音频、PPT等
5. **元数据生成**：自动创建 `index.md` 包含所有元数据
6. **智能命名**：从文件夹名自动生成 slug

---

## 🚀 快速开始

### 前置要求

- ✅ Python 3.7+ （Windows自带Python或手动安装）
- ✅ 无需安装额外库（使用Python标准库）

### 运行脚本

#### 方式1：双击运行（推荐）

```
双击 import_article.py → 自动打开GUI界面
```

#### 方式2：命令行运行

```bash
python import_article.py
```

---

## 📖 使用步骤

### 第1步：准备文章资料

在你的资料目录中创建文章文件夹，例如：

```
G:\Notebook\【新】未分类\LSP：里氏替换原则\
├── index.md          # 文章正文（可选，脚本会自动生成）
├── cover.png         # 封面图
├── video.mp4         # 视频讲解
├── audio.m4a         # 音频讲解
├── slides.pdf        # PPT幻灯片
├── mindmap.png       # 思维导图
└── flashcards.csv    # 问答卡片
```

**提示**：
- 文件名可以是中文或英文
- 脚本会自动识别常见的资源文件
- 如果没有 `index.md`，脚本会自动创建

---

### 第2步：打开导入工具

双击运行 `import_article.py`，会看到如下界面：

```
┌──────────────────────────────────────────┐
│      📝 文章导入工具 - Learning Share     │
├──────────────────────────────────────────┤
│                                           │
│  第1步：选择源文件夹                      │
│  [_____________________________] [浏览]   │
│                                           │
│  第2步：选择分类                          │
│  [Coding 编程技术 ▼]                      │
│                                           │
│  第3步：子分类（可选）                    │
│  例如：design-patterns, frontend          │
│  [_____________________________]          │
│                                           │
│  第4步：文章Slug（URL路径）               │
│  [_____________________________] [自动生成]│
│                                           │
│  第5步：文章信息                          │
│  标题: [_____________________________]    │
│  作者: [CodeMaster               ]        │
│                                           │
│        [ 🚀 开始导入 ]                    │
│                                           │
│  📋 操作日志:                             │
│  ┌──────────────────────────────────┐   │
│  │[17:30:01] ✅ 文章导入工具已启动   │   │
│  │                                   │   │
│  └──────────────────────────────────┘   │
└──────────────────────────────────────────┘
```

---

### 第3步：选择源文件夹

1. 点击"📁 浏览"按钮
2. 导航到你的文章资料文件夹
3. 选择文件夹（例如：`G:\Notebook\【新】未分类\LSP：里氏替换原则`）
4. 点击"确定"

**自动识别**：
- ✅ 脚本会自动从文件夹名生成 slug
- ✅ 自动提取标题（移除【】等前缀）

---

### 第4步：选择分类

从下拉菜单中选择合适的分类：

| 分类 | 英文目录名 | 适用内容 |
|------|-----------|---------|
| AI 人工智能 | `ai` | 机器学习、深度学习、NLP等 |
| Coding 编程技术 | `coding` | 前端、后端、算法、设计模式 |
| GAME 游戏 | `game` | 游戏设计、开发、行业分析 |
| MKT 市场营销 | `mkt` | 数字营销、SEO、内容营销 |
| 创业 | `startup` | 创业经验、商业模式、融资 |
| 个人成长 | `personal-growth` | 效率提升、学习方法、职业发展 |
| 管理 | `management` | 团队管理、项目管理、领导力 |
| 金融 | `finance` | 投资、股票、加密货币 |
| 社交 | `social` | 沟通技巧、人际关系 |
| 时政 | `politics` | 时事、政策分析 |

---

### 第5步：填写子分类（可选）

如果需要二级分类，输入子分类名称。

**示例**：

| 主分类 | 子分类 | 最终路径 |
|--------|-------|---------|
| Coding | design-patterns | `posts/coding/design-patterns/` |
| Coding | frontend | `posts/coding/frontend/` |
| AI | machine-learning | `posts/ai/machine-learning/` |

**命名规范**：
- ✅ 使用英文小写
- ✅ 单词用短横线连接：`design-patterns`
- ❌ 避免空格：`design patterns`
- ❌ 避免中文：`设计模式`

---

### 第6步：确认Slug

- 脚本会自动生成 slug（从文件夹名提取）
- 你可以手动修改
- 也可以点击"🔄 自动生成"重新生成

**Slug规则**：
- ✅ 小写字母和短横线
- ✅ 例如：`lsp-liskov-substitution-principle`

---

### 第7步：确认文章信息

- **标题**：从文件夹名自动提取，可手动修改
- **作者**：默认是 `CodeMaster`，可修改

---

### 第8步：开始导入

点击"🚀 开始导入"按钮

**脚本会自动**：
1. 在目标目录创建文章文件夹
2. 复制所有资源文件
3. 检测资源类型（封面、视频、音频等）
4. 生成或保留 `index.md`
5. 显示操作日志

---

### 第9步：验证结果

导入成功后，会弹出提示框：

```
导入成功
───────────────────────────────
文章已成功导入到：
D:\BLOG\public\content\posts\coding\design-patterns\lsp-liskov

是否打开目标文件夹？
───────────────────────────────
      [ 是 ]    [ 否 ]
```

点击"是"会自动打开目标文件夹。

---

## 📂 目标目录结构

导入后的文章会按以下结构组织：

```
public/content/posts/
└── coding/                           ← 主分类
    └── design-patterns/              ← 子分类（可选）
        └── lsp-liskov-substitution/  ← 文章slug
            ├── index.md              ← 文章正文（含元数据）
            ├── cover.png             ← 封面图
            ├── video.mp4             ← 视频
            ├── audio.m4a             ← 音频
            ├── slides.pdf            ← PPT
            ├── mindmap.png           ← 思维导图
            └── flashcards.csv        ← 问答卡片
```

---

## 📝 自动生成的 index.md

如果源文件夹中没有 `index.md`，脚本会自动创建，包含以下元数据：

```yaml
---
# 基本信息
title: 里氏替换原则（LSP）深度解析
slug: lsp-liskov-substitution
date: 2024-02-02
author: CodeMaster

# 分类
category: coding
subcategory: design-patterns
tags: []

# 内容描述
excerpt: 里氏替换原则（LSP）深度解析
difficulty: intermediate
readingTime: 15

# 资源
cover: cover.png
resources:
  mindmap: mindmap.png
  slides: slides.pdf
  flashcards: flashcards.csv
  video: video.mp4
  audio: audio.m4a

# SEO
keywords: ""
---

# 里氏替换原则（LSP）深度解析

## 引言

在这里编写文章内容...
```

**资源自动识别规则**：

| 资源类型 | 识别规则 |
|---------|---------|
| 封面图 | 文件名包含 `cover` 或 `封面` |
| 视频 | 扩展名 `.mp4`, `.mov`, `.avi` |
| 音频 | 扩展名 `.mp3`, `.m4a`, `.wav` |
| PPT | 扩展名 `.pdf`, `.ppt`, `.pptx` |
| 思维导图 | 文件名包含 `mindmap` 或 `思维导图` |
| 问答卡片 | 文件名包含 `flashcard` 或扩展名 `.csv` |

---

## 🎯 最佳实践

### 1. 文件夹命名建议

```
✅ 好的命名：
   【新】LSP：里氏替换原则
   React Hooks 深度解析
   AI大模型应用实践

❌ 避免的命名：
   新建文件夹 (1)
   未命名
   tmp
```

### 2. 资源文件命名

```
✅ 推荐命名：
   cover.png         （封面）
   video.mp4         （视频）
   audio.m4a         （音频）
   slides.pdf        （PPT）
   mindmap.png       （思维导图）
   flashcards.csv    （问答）

✅ 也支持：
   封面.png
   lsp-video.mp4
   思维导图.png
```

### 3. 内容准备清单

准备文章资料时，建议包含：

- ✅ **index.md** - 文章正文（如果没有，脚本会生成模板）
- ✅ **cover.png** - 封面图（16:9比例，建议1920x1080）
- ⭐ **video.mp4** - 视频讲解（可选）
- ⭐ **audio.m4a** - 音频讲解（可选）
- ⭐ **slides.pdf** - PPT幻灯片（可选）
- ⭐ **mindmap.png** - 思维导图（可选）
- ⭐ **flashcards.csv** - 问答卡片（可选）

---

## 🛠️ 故障排除

### Q1: 双击脚本没反应？

**原因**：Python未安装或未关联 `.py` 文件

**解决方法**：
```bash
# 右键点击脚本 → 打开方式 → 选择Python
# 或者命令行运行：
python import_article.py
```

### Q2: 提示"请选择有效的源文件夹"？

**原因**：文件夹路径不存在或未选择

**解决方法**：确保选择的文件夹真实存在，且有读取权限

### Q3: 导入后找不到文件？

**原因**：目标目录设置错误

**检查**：
1. 脚本必须放在项目根目录（`d:\BLOG\`）
2. 确保 `public/content/posts/` 目录存在

### Q4: 中文slug乱码？

**原因**：slug包含中文字符

**解决方法**：
- 手动修改slug为英文
- 或使用拼音代替
- 例如：`lsp-li-shi-ti-huan-yuan-ze`

### Q5: index.md被覆盖了？

**说明**：脚本不会覆盖已存在的 `index.md`

如果需要重新生成：
1. 先备份原 `index.md`
2. 删除或重命名
3. 重新导入

---

## 📊 操作日志说明

导入过程中，日志窗口会显示详细信息：

```
[17:30:01] ✅ 文章导入工具已启动
[17:30:01] 📁 目标目录: D:\BLOG\public\content\posts
[17:30:15] ✅ 已选择源文件夹: G:\Notebook\【新】未分类\LSP
[17:30:15] ✅ 自动生成 slug: lsp-liskov
[17:30:20] ==================================================
[17:30:20] 🚀 开始导入文章...
[17:30:20] ✅ 创建目标目录: D:\BLOG\public\content\posts\coding\design-patterns\lsp-liskov
[17:30:21]    📄 复制: cover.png
[17:30:21]    📄 复制: video.mp4
[17:30:22]    📄 复制: audio.m4a
[17:30:22]    📄 复制: slides.pdf
[17:30:22]    📄 复制: mindmap.png
[17:30:22]    📄 复制: flashcards.csv
[17:30:22]    📄 复制: index.md
[17:30:22] ✅ 已复制 7 个文件
[17:30:22] ✅ index.md 已存在，跳过创建
[17:30:22] ==================================================
[17:30:22] 🎉 文章导入成功！
[17:30:22] 📁 目标位置: D:\BLOG\public\content\posts\coding\design-patterns\lsp-liskov
```

---

## 🎨 界面截图说明

### 主界面
```
+------------------------------------------+
|  📝 文章导入工具 - Learning Share        |
+------------------------------------------+
|                                          |
|  第1步：选择源文件夹 ⬅ 点击浏览选择      |
|  第2步：选择分类     ⬅ 从下拉菜单选择    |
|  第3步：子分类       ⬅ 可选，输入英文    |
|  第4步：文章Slug     ⬅ 自动生成或手动改  |
|  第5步：文章信息     ⬅ 标题和作者       |
|                                          |
|     [ 🚀 开始导入 ]  ⬅ 点击开始         |
|                                          |
|  📋 操作日志         ⬅ 实时显示进度      |
+------------------------------------------+
```

---

## 📞 获取帮助

如果遇到问题：

1. **查看日志**：操作日志窗口会显示详细错误信息
2. **检查路径**：确保源文件夹和目标目录都存在
3. **验证权限**：确保有读写权限
4. **重新运行**：关闭脚本重新打开

---

## 🎉 总结

使用文章导入工具，你的工作流程是：

```
1. 在 G:\Notebook 准备文章资料
   ↓
2. 双击 import_article.py
   ↓
3. 选择文件夹 + 选择分类
   ↓
4. 点击"开始导入"
   ↓
5. 等待1-2秒
   ↓
6. 导入成功！✅
```

**完全自动化，一键完成！** 🚀
