question,answer
什么是里氏替换原则？,里氏替换原则（LSP）是SOLID设计原则之一，要求子类对象必须能够替换掉所有父类对象被使用的地方，而不会产生错误或异常。
为什么正方形不应该继承矩形？,因为正方形改变了矩形的行为契约。矩形的set_width和set_height是独立的，而正方形中设置宽度会同时改变高度，违反了LSP。
LSP的核心思想是什么？,子类必须完全兼容父类的行为，用户在使用父类时不应该需要知道具体的子类实现。
如何判断是否违反了LSP？,如果用子类替换父类后，程序的行为发生了意外变化或产生错误，就违反了LSP。
LSP对前置条件的要求是什么？,子类不能加强父类方法的前置条件，即不能要求更严格的输入条件。
LSP对后置条件的要求是什么？,子类不能削弱父类方法的后置条件，即必须保证至少和父类一样的输出保证。
什么是"契约"在LSP中的含义？,契约是指类对外承诺的行为规范，包括前置条件、后置条件和不变量。
组合为什么优于继承？,组合更灵活，不会破坏LSP，可以在运行时动态改变行为，而继承是编译时固定的强耦合关系。
如何用测试来验证LSP？,使用父类的测试用例来测试子类，如果子类通过了所有父类的测试，就符合LSP。
LSP在实践中最常见的违规场景是什么？,最常见的是过度使用继承来实现代码复用，而忽略了行为兼容性，例如Java的Stack继承Vector就是典型案例。
